/*!
 * testee - v0.0.2 - 2013-04-19
 * http://github.com/daffl/testee.js
 * Copyright (c) 2013 David Luecke
 * Licensed MIT
 */
(function(){var n=this,t=n._,e={},r=Array.prototype,i=Object.prototype,u=Function.prototype,a=r.push,o=r.slice,c=r.concat,s=i.toString,l=i.hasOwnProperty,f=r.forEach,p=r.map,d=r.reduce,h=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,_=r.lastIndexOf,b=Array.isArray,x=Object.keys,w=u.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.4.4";var k=j.each=j.forEach=function(n,t,r){if(null!=n)if(f&&n.forEach===f)n.forEach(t,r);else if(n.length===+n.length){for(var i=0,u=n.length;u>i;i++)if(t.call(r,n[i],i,n)===e)return}else for(var a in n)if(j.has(n,a)&&t.call(r,n[a],a,n)===e)return};j.map=j.collect=function(n,t,e){var r=[];return null==n?r:p&&n.map===p?n.map(t,e):(k(n,function(n,i,u){r[r.length]=t.call(e,n,i,u)}),r)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,e,r){var i=arguments.length>2;if(null==n&&(n=[]),d&&n.reduce===d)return r&&(t=j.bind(t,r)),i?n.reduce(t,e):n.reduce(t);if(k(n,function(n,u,a){i?e=t.call(r,e,n,u,a):(e=n,i=!0)}),!i)throw new TypeError(E);return e},j.reduceRight=j.foldr=function(n,t,e,r){var i=arguments.length>2;if(null==n&&(n=[]),h&&n.reduceRight===h)return r&&(t=j.bind(t,r)),i?n.reduceRight(t,e):n.reduceRight(t);var u=n.length;if(u!==+u){var a=j.keys(n);u=a.length}if(k(n,function(o,c,s){c=a?a[--u]:--u,i?e=t.call(r,e,n[c],c,s):(e=n[c],i=!0)}),!i)throw new TypeError(E);return e},j.find=j.detect=function(n,t,e){var r;return A(n,function(n,i,u){return t.call(e,n,i,u)?(r=n,!0):void 0}),r},j.filter=j.select=function(n,t,e){var r=[];return null==n?r:v&&n.filter===v?n.filter(t,e):(k(n,function(n,i,u){t.call(e,n,i,u)&&(r[r.length]=n)}),r)},j.reject=function(n,t,e){return j.filter(n,function(n,r,i){return!t.call(e,n,r,i)},e)},j.every=j.all=function(n,t,r){t||(t=j.identity);var i=!0;return null==n?i:m&&n.every===m?n.every(t,r):(k(n,function(n,u,a){return(i=i&&t.call(r,n,u,a))?void 0:e}),!!i)};var A=j.some=j.any=function(n,t,r){t||(t=j.identity);var i=!1;return null==n?i:g&&n.some===g?n.some(t,r):(k(n,function(n,u,a){return i||(i=t.call(r,n,u,a))?e:void 0}),!!i)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?-1!=n.indexOf(t):A(n,function(n){return n===t})},j.invoke=function(n,t){var e=o.call(arguments,2),r=j.isFunction(t);return j.map(n,function(n){return(r?t:n[t]).apply(n,e)})},j.pluck=function(n,t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,e){return j.isEmpty(t)?e?null:[]:j[e?"find":"filter"](n,function(n){for(var e in t)if(t[e]!==n[e])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,e){if(!t&&j.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var r={computed:-1/0,value:-1/0};return k(n,function(n,i,u){var a=t?t.call(e,n,i,u):n;a>=r.computed&&(r={value:n,computed:a})}),r.value},j.min=function(n,t,e){if(!t&&j.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var r={computed:1/0,value:1/0};return k(n,function(n,i,u){var a=t?t.call(e,n,i,u):n;r.computed>a&&(r={value:n,computed:a})}),r.value},j.shuffle=function(n){var t,e=0,r=[];return k(n,function(n){t=j.random(e++),r[e-1]=r[t],r[t]=n}),r};var S=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,e){var r=S(t);return j.pluck(j.map(n,function(n,t,i){return{value:n,index:t,criteria:r.call(e,n,t,i)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return n.index<t.index?-1:1}),"value")};var O=function(n,t,e,r){var i={},u=S(t||j.identity);return k(n,function(t,a){var o=u.call(e,t,a,n);r(i,o,t)}),i};j.groupBy=function(n,t,e){return O(n,t,e,function(n,t,e){(j.has(n,t)?n[t]:n[t]=[]).push(e)})},j.countBy=function(n,t,e){return O(n,t,e,function(n,t){j.has(n,t)||(n[t]=0),n[t]++})},j.sortedIndex=function(n,t,e,r){e=null==e?j.identity:S(e);for(var i=e.call(r,t),u=0,a=n.length;a>u;){var o=u+a>>>1;i>e.call(r,n[o])?u=o+1:a=o}return u},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,e){return null==n?void 0:null==t||e?n[0]:o.call(n,0,t)},j.initial=function(n,t,e){return o.call(n,0,n.length-(null==t||e?1:t))},j.last=function(n,t,e){return null==n?void 0:null==t||e?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,e){return o.call(n,null==t||e?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var T=function(n,t,e){return k(n,function(n){j.isArray(n)?t?a.apply(e,n):T(n,t,e):e.push(n)}),e};j.flatten=function(n,t){return T(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,e,r){j.isFunction(t)&&(r=e,e=t,t=!1);var i=e?j.map(n,e,r):n,u=[],a=[];return k(i,function(e,r){(t?r&&a[a.length-1]===e:j.contains(a,e))||(a.push(e),u.push(n[r]))}),u},j.union=function(){return j.uniq(c.apply(r,arguments))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=c.apply(r,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=o.call(arguments),t=j.max(j.pluck(n,"length")),e=Array(t),r=0;t>r;r++)e[r]=j.pluck(n,""+r);return e},j.object=function(n,t){if(null==n)return{};for(var e={},r=0,i=n.length;i>r;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},j.indexOf=function(n,t,e){if(null==n)return-1;var r=0,i=n.length;if(e){if("number"!=typeof e)return r=j.sortedIndex(n,t),n[r]===t?r:-1;r=0>e?Math.max(0,i+e):e}if(y&&n.indexOf===y)return n.indexOf(t,e);for(;i>r;r++)if(n[r]===t)return r;return-1},j.lastIndexOf=function(n,t,e){if(null==n)return-1;var r=null!=e;if(_&&n.lastIndexOf===_)return r?n.lastIndexOf(t,e):n.lastIndexOf(t);for(var i=r?e:n.length;i--;)if(n[i]===t)return i;return-1},j.range=function(n,t,e){1>=arguments.length&&(t=n||0,n=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=0,u=Array(r);r>i;)u[i++]=n,n+=e;return u},j.bind=function(n,t){if(n.bind===w&&w)return w.apply(n,o.call(arguments,1));var e=o.call(arguments,2);return function(){return n.apply(t,e.concat(o.call(arguments)))}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);return 0===t.length&&(t=j.functions(n)),k(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var e={};return t||(t=j.identity),function(){var r=t.apply(this,arguments);return j.has(e,r)?e[r]:e[r]=n.apply(this,arguments)}},j.delay=function(n,t){var e=o.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t){var e,r,i,u,a=0,o=function(){a=new Date,i=null,u=n.apply(e,r)};return function(){var c=new Date,s=t-(c-a);return e=this,r=arguments,0>=s?(clearTimeout(i),i=null,a=c,u=n.apply(e,r)):i||(i=setTimeout(o,s)),u}},j.debounce=function(n,t,e){var r,i;return function(){var u=this,a=arguments,o=function(){r=null,e||(i=n.apply(u,a))},c=e&&!r;return clearTimeout(r),r=setTimeout(o,t),c&&(i=n.apply(u,a)),i}},j.once=function(n){var t,e=!1;return function(){return e?t:(e=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var e=[n];return a.apply(e,arguments),t.apply(this,e)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;e>=0;e--)t=[n[e].apply(this,t)];return t[0]}},j.after=function(n,t){return 0>=n?t():function(){return 1>--n?t.apply(this,arguments):void 0}},j.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var e in n)j.has(n,e)&&(t[t.length]=e);return t},j.values=function(n){var t=[];for(var e in n)j.has(n,e)&&t.push(n[e]);return t},j.pairs=function(n){var t=[];for(var e in n)j.has(n,e)&&t.push([e,n[e]]);return t},j.invert=function(n){var t={};for(var e in n)j.has(n,e)&&(t[n[e]]=e);return t},j.functions=j.methods=function(n){var t=[];for(var e in n)j.isFunction(n[e])&&t.push(e);return t.sort()},j.extend=function(n){return k(o.call(arguments,1),function(t){if(t)for(var e in t)n[e]=t[e]}),n},j.pick=function(n){var t={},e=c.apply(r,o.call(arguments,1));return k(e,function(e){e in n&&(t[e]=n[e])}),t},j.omit=function(n){var t={},e=c.apply(r,o.call(arguments,1));for(var i in n)j.contains(e,i)||(t[i]=n[i]);return t},j.defaults=function(n){return k(o.call(arguments,1),function(t){if(t)for(var e in t)null==n[e]&&(n[e]=t[e])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var R=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var i=s.call(n);if(i!=s.call(t))return!1;switch(i){case"[object String]":return n==t+"";case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=e.length;u--;)if(e[u]==n)return r[u]==t;e.push(n),r.push(t);var a=0,o=!0;if("[object Array]"==i){if(a=n.length,o=a==t.length)for(;a--&&(o=R(n[a],t[a],e,r)););}else{var c=n.constructor,l=t.constructor;if(c!==l&&!(j.isFunction(c)&&c instanceof c&&j.isFunction(l)&&l instanceof l))return!1;for(var f in n)if(j.has(n,f)&&(a++,!(o=j.has(t,f)&&R(n[f],t[f],e,r))))break;if(o){for(f in t)if(j.has(t,f)&&!a--)break;o=!a}}return e.pop(),r.pop(),o};j.isEqual=function(n,t){return R(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=b||function(n){return"[object Array]"==s.call(n)},j.isObject=function(n){return n===Object(n)},k(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return s.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),j.isFunction=function(n){return"function"==typeof n},j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==s.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return l.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,e){for(var r=Array(n),i=0;n>i;i++)r[i]=t.call(e,i);return r},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=j.invert(F.escape);var M={escape:RegExp("["+j.keys(F.escape).join("")+"]","g"),unescape:RegExp("("+j.keys(F.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(M[n],function(t){return F[n][t]})}}),j.result=function(n,t){if(null==n)return null;var e=n[t];return j.isFunction(e)?e.call(n):e},j.mixin=function(n){k(j.functions(n),function(t){var e=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),q.call(this,e.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,e){var r;e=j.defaults({},e,j.templateSettings);var i=RegExp([(e.escape||I).source,(e.interpolate||I).source,(e.evaluate||I).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,function(t,e,r,i,o){return a+=n.slice(u,o).replace(D,function(n){return"\\"+B[n]}),e&&(a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),u=o+t.length,t}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=Function(e.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return r(t,j);var c=function(n){return r.call(this,n,j)};return c.source="function("+(e.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var q=function(n){return this._chain?j(n).chain():n};j.mixin(j),k(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];j.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!=n&&"splice"!=n||0!==e.length||delete e[0],q.call(this,e)}}),k(["concat","join","slice"],function(n){var t=r[n];j.prototype[n]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this),!function(){"use strict";window.Testee=_.extend({win:window,_:_.noConflict(),adapters:[],socket:io.connect(),init:function(){var n=this.socket.emit,t=this;this._.each(this.adapters,function(n){n.call(this,this.win,this._)},this),this.socket.emit=function(){return t.log.apply(Testee,arguments),n.apply(this,arguments)}},log:function(){this.debug&&console.log.apply(console,arguments)},addAdapter:function(n){this.adapters.push(n)},start:function(n){this.socket.emit("start",n)},suite:function(n){this.socket.emit("suite",n)},test:function(n){this.socket.emit("test",n)},pending:function(n){this.socket.emit("pending",n)},pass:function(n){this.socket.emit("pass",n)},fail:function(n){this.socket.emit("fail",n)},testEnd:function(n){this.socket.emit("test end",n)},suiteEnd:function(n){this.socket.emit("suite end",n)},end:function(n){window.__coverage__&&this.socket.emit("coverage",__coverage__),this.socket.emit("end",n)}},window.Testee)}(),!function(n,t){"use strict";n.addAdapter(function(e,r){if(e.mocha&&e.Mocha){mocha.ignoreLeaks();var i=mocha._reporter,u=function(t){var e=this,u={"test end":"testEnd","suite end":"suiteEnd"},a=function(e,r){t.on(e,function(){var t=r.apply(r,arguments),i=u[e]||e;n[i](t)})};this.originalReporter=new i(t),this.ids=[],this.last={},a("start",function(){return{environment:navigator.userAgent,runner:"Mocha",time:(new Date).getTime()}}),a("fail",function(n,t){var r=e.diff(n);return r.err={message:t.message,stack:t.stack||""},r}),r.each(["suite","suite end","pending","test","test end","pass","end"],function(n){a(n,r.bind(e.diff,e))})};return u.prototype.objectify=function(n){var e={},i=this;return r.each(n,function(n,u){var a=0===u.indexOf("_")||0===u.indexOf("$");if("object"!=typeof n||a)"function"==typeof n||a||n===t||(e[u]=n);else{var o=r.indexOf(i.ids,n);~o&&(e[u]=o)}}),e},u.prototype.diff=function(n){var t=this,e=t.objectify(n),i={},u=r.indexOf(t.ids,n);return~u?r.each(e,function(n,e){t.last[u][e]!==n&&(i[e]=n)}):(u=t.ids.push(n)-1,i=r.clone(e||{})),t.last[u]=e,i.id=u,i},e.Mocha.reporters.Testee=u,e.mocha.reporter(u),u}})}(Testee),!function(n){"use strict";n.addAdapter(function(t){if(t.QUnit){var e=t.QUnit,r=0,i=[],u=function(){return(new Date).getTime()},a=function(){return i[i.length-1]},o=function(n,t){var r=e[n]||function(){};e[n]=function(){return t.apply(this,arguments),r.apply(e,arguments)}};return o("begin",function(){var t=document.getElementsByTagName("title")[0]||document.getElementsByTagName("h1")[0];n.start({environment:navigator.userAgent,runner:"QUnit",time:u()}),n.suite({title:t?t.innerHTML:"",root:!0,id:r}),i.push(r)}),o("moduleStart",function(t){n.suite({title:t.name,parent:a(),id:++r}),i.push(r)}),o("moduleDone",function(t){n.suiteEnd({failed:t.failed,total:t.total,id:a()}),i.pop()}),o("testStart",function(t){n.suite({title:t.name,parent:a(),id:++r}),i.push(r)}),o("testDone",function(){n.suiteEnd({id:a()}),i.pop()}),o("log",function(t){var e=++r,i="";n.test({id:e,title:t.message||"okay",parent:a()}),t.result?n.pass({id:e}):(i=t.expected?"Expected "+t.expected+" but was "+t.actual:"Expected assertion to be truthy but it was not",n.fail({id:e,err:{message:t.message,stack:i+"\n    "+(t.source||"")}})),n.testEnd({id:e})}),o("done",function(t){n.end(t)}),e}})}(Testee),!function(n){"use strict";var t=function(n){return"suite/"+n};n.addAdapter(function(e,r){if(e.jasmine){var i=function(){};r.extend(i.prototype,{log:function(){},reportRunnerStarting:function(){n.start({environment:navigator.userAgent,runner:"Jasmine"})},reportRunnerResults:function(){n.end({})},reportSpecResults:function(t){if(t.results_.failedCount){var e=t.results_.items_[0].message,r=t.results_.items_[0].trace.stack;n.fail({id:t.id,err:{message:e,stack:r}})}else t.results_.passedCount&&n.pass({duration:0,id:t.id});n.testEnd({id:t.id})},startSuite:function(e){null!==e.parentSuite&&(e.parentSuite.started||this.startSuite(e.parentSuite)),null!==e.parentSuite?n.suite({title:e.description,parent:t(e.parentSuite.id),id:t(e.id)}):n.suite({title:e.description,root:!0,id:t(e.id)}),e.started=!0},reportSpecStarting:function(e){e.suite.started||this.startSuite(e.suite),n.test({title:e.description,parent:t(e.suite.id),id:e.id})},reportSuiteResults:function(e){n.suiteEnd({id:t(e.id)})}}),jasmine.getEnv().addReporter(new i)}})}(Testee),!function(n){window.steal?steal.one("end",function(){n.init()}):n.init()}(Testee);